 {% extends 'base.html'%}
    {% block content%}
  
    {% if messages %}
        {% for message in messages %}
         {% if message.tags %}  <script>alert("{{ message }}")</script> {% endif %}

        {% endfor %}

    {% endif %}

<div style="background: url('/static/Images/theme.jpg'); background-repeat:no-repeat;background-size: cover;color: white;height:1600px;  "> 
<!-- Modal -->
<div id="myModal" class="modal fade " role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" style="color: red" data-dismiss="modal">&times;</button>
        <h4 class="modal-title text-center">ADD Plants</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" action='/Manage/'  method="POST" id="signup-form" enctype="multipart/form-data">
  		{% csrf_token %}

    <div class="row">
        <div class="col-md-3 "style="margin-bottom: 10px">
            <label style="color: black"  for="validationTooltip02">Name:</label>
            <input type="text" class="form-control" name="name" id="Name"  placeholder="Name" value="" required>
        </div>
        <div class="col-md-3 "style="margin-bottom: 10px">
            <label style="color: black"  for="validationTooltip02">Light</label>
            <select name="light" id="light" class="form-control" autofocus required>
                <option value="select">Select Light </option>
                <option value="Low Light">Low Light</option>
                <option value="Bright Indirect Light">Bright Indirect Light</option>
                <option value="Direct Sunlight">Direct Sunlight</option>
            </select>
        </div>
        <div class="col-md-3 "style="margin-bottom: 10px">
            <label style="color: black"  for="validationTooltip01">Type:</label>
            <select name="seasons" id="seasons" class="form-control" autofocus required>
                <option value="select">Select Season Type </option>
                <option value="Winter">Winter</option>
                <option value="Summer">Summer</option>
                <option value="Easy To Grow">Easy To Grow</option>
            </select>
        </div>
        <div class="col-md-3 "style="margin-bottom: 10px">
            <label style="color: black"  for="validationTooltip01">Schedule</label>
            <select name="schedule" id="schedule" class="form-control" autofocus required>
                <option value="select">Select Water Schedule</option>
                <option value="Twice a week ">Twice a week</option>
                <option value="Every Alternate Day">Every Alternate Day </option>
                <option value="Once A day">Once A day</option>
                <option value="Once a week ">Once a week </option>
            </select>
        </div>
    </div>
    <div class="form-row">
           <div class="col-md-4 "style="margin-bottom: 10px">
                <label style="color: black"  for="validationTooltip02">Maintainance</label>
                 <select name="maintainance" id="maintainance" class="form-control" autofocus required>
                       <option value="select">Select Maintainace Mode</option>
                       <option value="High">High</option>
                       <option value="Low">Low</option>
                       <option value="Medium">Medium</option>
                   </select>
            </div>
            <div class="col-md-4 "style="margin-bottom: 10px">
                <label style="color: black"  for="validationTooltip01">Price:</label>
                <input type="text" class="form-control" name="Price" id="Price"  placeholder="Add Price in digits" value="" required>
            </div>
            <div class="col-md-4 "style="margin-bottom: 10px">
                <label style="color: black"  for="validationTooltip01">Description</label>
                <input type="text" class="form-control" name="description" id="description"  placeholder="Add Description" value="" required>
            </div>
    </div>

    <center>
        <div class="col-md-12"><br>
            <input type="file" name="img" class="btn btn-primary" style="background-color:black;" ></button>
        </div>
    </center>


      </div>
      <div class="modal-footer">
      	<button type="submit"  class="btn btn-success" > Submit</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
  </form>
    </div>

  </div>
</div>





<!-- Modal -->
<div id="myModal1" class="modal fade " role="dialog" data-backdrop="static" data-keyboard="false">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" style="color: red" data-dismiss="modal">&times;</button>
        <h4 class="modal-title text-center" style="color:black;">UPDATE PLANTS DETAILS</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal" action='/updated/'  method="POST"  id="signup-form" enctype="multipart/form-data">
      {% csrf_token %}


        <div class="row">
    <div class="col-md-12 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01"> Id</label>
      <input type="text" class="form-control" readonly="" name="Updateid" id="Updateid" placeholder="Name" value="" required="">
      
    </div>
  </div>
<br>

       <div class="row">
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01">Name</label>
      <input type="text" class="form-control" name="Updatename" required="" id="Updatename" placeholder="First_name" value="" >
      
    </div>
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip02">Light</label>
       <select  name="Updatelight" required="" id="Updatelight"  class="form-control" autofocus required>
                <option value="select">Select Light </option>
                <option value="Low Light">Low Light</option>
                <option value="Bright Indirect Light">Bright Indirect Light</option>
                <option value="Direct Sunlight">Direct Sunlight</option>
        </select>
     
      
    </div>
  </div>
<br>
  

   <div class="row">
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01">Season Type</label>
       <select name="Updateseed" required="" id="Updateseed" class="form-control" autofocus required>
                <option value="select">Select Season Type </option>
                <option value="Winter">Winter</option>
                <option value="Summer">Summer</option>
                <option value="Easy To Grow">Easy To Grow</option>
            </select>
     
      
    </div>
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip02">Maintainance</label>
      <select name="Updatemain" required="" id="Updatemain" class="form-control" autofocus required>
                       <option value="select">Select Maintainace Mode</option>
                       <option value="High">High</option>
                       <option value="Low">Low</option>
                       <option value="Medium">Medium</option>
                   </select>
      
      
    </div>
  </div>
<br>

  <div class="row">
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01">Water Schedule</label>
      <select name="Updatetime" required="" id="Updatetime" class="form-control" autofocus required>
                <option value="select">Select Water Schedule</option>
                <option value="Twice a week ">Twice a week</option>
                <option value="Every Alternate Day">Every Alternate Day </option>
                <option value="Once A day">Once A day</option>
                <option value="Once a week ">Once a week </option>
            </select>
     
      
    </div>
    <div class="col-md-6 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip02">Price</label>
      <input type="text" class="form-control" name="Updateprice" required="" id="Updateprice"  placeholder="Price" value="" >
      
    </div>
  </div>
<br>


  <div class="row">
    <div class="col-md-12 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01">Description</label>
      <textarea class="form-control" name="Updatedesc" id="Updatedesc" placeholder="Username" value="" required=""></textarea> 
      
    </div>
  </div>

  <br>

  <div class="row">
    <div class="col-md-12 "style="margin-bottom: 2px">
      <label style="color: black"  for="validationTooltip01">Image</label>
      <img src ="" id = "Updateimg" name="Updateimg" style="height: 250px;width: 250px;margin-left: 50px">
      <input type = file id = "Updateimg" name="Updateimg" class="btn btn-primary" style="background-color:black;" >
    </div>
  </div>

   


      </div>
      <div class="modal-footer">
        <button type="submit"  class="btn btn-success" > Submit</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
  </form>
    </div>

  </div>
</div>










  <center>
  <div>

  <h2 style="color:black">Manage Plants</h2>
  
    <hr style="border-top: 1px solid black">
  </div>
  </center> 

<div class="container" style="margin-top: 1%;padding:1%">	
	<div class="text-right">
	<input type="button" class="btn btn-primary" name="AddDoctor" id="AddDoctor" value="Add Plants" data-toggle="modal" data-target="#myModal">

	</div>
  
<br>
	<div class="table-responsive">
	<table class="table table-striped table-bordered table-sm" >  
    <thead  style="color: white;background-color: black" class="text-white">  
    <tr> 

        <th>ID</th>
                <th>Name</th>
                <th>Light</th>
                <th>Season Type</th>
                <th>Maintainance</th>
                <th>Schedule</th>
                <th>Price</th>
                <th hidden="" >Description</th>
                <th>Image</th>
                <th colspan="2">Actions</th>
    </tr>  
    </thead>  
    <tbody class="bg-white" style="color: black">  


	  {% for d in data %}
		<tr>  
	         <td>{{d.id}}</td>  
                <td>{{d.Name}}</td>
                <td >{{d.Light}}</td>
                <td >{{d.Seeds}}</td>
                <td >{{d.Maintainance}}</td>
                <td >{{d.Schedule}}</td>
                <td>{{d.Price}}</td>
                <td hidden="">{{d.Description}}</td>
               <td><img src="{{d.Pictures.url}}" style="height: 150px;width:50%;"></td>
	        <td >   
            <input type="button" class="btn btn-info" id="{{ d.id }},{{ d.Name }},{{ d.Light }},{{ d.Seeds }},{{ d.Maintainance }},{{ d.Schedule }},{{ d.Price }},{{d.Description }},{{ d.Pictures.url }}" value="Update" onclick="update(this)">   
	        </td>
          <td>
          <a href="/delplant/{{d.id}}"style="display: flow-root;background-color:black;" class="btn btn-primary stretched-link text-center">DELETE</a>
          </td>  
		</tr> 
	{% endfor %} 

    </tbody>  
	</table>
</div>
</div>






</div>
<br>


<script type="text/javascript">
  
  function update(me){
    var id = me.id;
    var str = id.split(",");
    var ids = str[0];
    var name = str[1];
    var light = str[2];
    var seeds = str[3];
    var maintain = str[4];
    var schedule = str[5];
    var price= str[6];
    var desc = str[7];
    var image = str[8];
   

    document.getElementById("Updateid").value = ids;
    document.getElementById("Updatename").value = name;
    document.getElementById("Updatelight").value = light;
    document.getElementById("Updateseed").value = seeds;
    document.getElementById("Updatemain").value = maintain;
    document.getElementById("Updatetime").value = schedule;
    document.getElementById("Updateprice").value = price;

    document.getElementById("Updatedesc").value = desc;
    document.getElementById("Updateimg").src = image;
    


    $('#myModal1').modal('show');
  }

</script>

    {% endblock%}